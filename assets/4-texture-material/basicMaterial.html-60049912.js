import"../reset-56fd7512.js";import{S as E,c as M,B as L,T as S,f as v,D as m,e as T,a as C,F as y,m as A,P as H,A as P,b as B,W as F,L as R}from"../three.module-30b36ebb.js";import{O as j}from"../OrbitControls-19869cf3.js";import{G as z}from"../lil-gui.esm-b4f18ba3.js";const l="/threejs-tutorial/",t={width:window.innerWidth,height:window.innerHeight},i=new E,U=new M(5);i.add(U);const d=new L,r=new R;r.onStart=(n,x,b)=>{console.log("开始加载资源")};r.onProgress=(n,x,b)=>{console.log("加载资源中")};r.onLoad=()=>{console.log("加载资源完毕")};r.onError=n=>{alert(`加载资源出错 ${n}`)};const c=new S(r),$=c.load(`${l}textures/door/color.jpg`),u=c.load(`${l}textures/door/alpha.jpg`),p=c.load(`${l}textures/door/ambientOcclusion.jpg`),e=new v({color:"#ffff00",map:$,alphaMap:u,transparent:!0,opacity:.5,aoMap:p,aoMapIntensity:.5,wireframe:!1,side:m});d.setAttribute("uv2",new T(d.attributes.uv.array,2));const h=new C(d,e);i.add(h);const o=new z;o.add(e,"alphaMap",{fibers:u,none:null}).name("透明贴图").onChange(n=>{e.needsUpdate=!0});o.add(e,"transparent").name("是否透明").onChange(()=>console.log(`当前物体是否显示：${h.visible}`));o.add(e,"opacity").min(0).max(1).step(.01).name("设置透明度");o.add(e,"aoMap",{fibers:p,none:null}).name("环境遮挡贴图").onChange(n=>{e.needsUpdate=!0});o.add(e,"aoMapIntensity").min(0).max(1).step(.01).name("环境遮挡强度");o.add(e,"side",{"THREE.FrontSide":y,"THREE.BackSide":A,"THREE.DoubleSide":m}).name("渲染面").onChange(n=>{console.log("value",n),e.needsUpdate=!0});o.add(e,"wireframe").name("是否线框");const w=new H(16777215);w.position.set(4,2,3);i.add(w);const D=new P(4473924);i.add(D);const s=new B(75,t.width/t.height,.1,1e3);s.position.z=5;i.add(s);const a=new F;a.setSize(t.width,t.height);a.setClearColor(12178431,1);document.body.appendChild(a.domElement);const g=new j(s,a.domElement);g.enableDamping=!0;f();window.addEventListener("resize",()=>{t.width=window.innerWidth,t.height=window.innerHeight,s.aspect=t.width/t.height,s.updateProjectionMatrix(),a.setSize(t.width,t.height),a.setPixelRatio(Math.min(window.devicePixelRatio,2))});window.addEventListener("dblclick",()=>{document.fullscreenElement?document.exitFullscreen():a.domElement.requestFullscreen()});function f(){g.update(),a.render(i,s),requestAnimationFrame(f)}
