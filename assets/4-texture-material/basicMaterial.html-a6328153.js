import"../reset-56fd7512.js";import{S as b,c as E,B as M,T as L,f as S,D as c,e as v,a as T,F as C,m as y,P as A,A as H,b as P,W as B,L as F}from"../three.module-30b36ebb.js";import{O as R}from"../OrbitControls-19869cf3.js";import{G as z}from"../lil-gui.esm-b4f18ba3.js";const n={width:window.innerWidth,height:window.innerHeight},s=new b,j=new E(5);s.add(j);const d=new M,r=new F;r.onStart=(t,f,x)=>{console.log("开始加载资源")};r.onProgress=(t,f,x)=>{console.log("加载资源中")};r.onLoad=()=>{console.log("加载资源完毕")};r.onError=t=>{alert(`加载资源出错 ${t}`)};const l=new L(r),D=l.load("/textures/door/color.jpg"),m=l.load("/textures/door/alpha.jpg"),u=l.load("/textures/door/ambientOcclusion.jpg"),e=new S({color:"#ffff00",map:D,alphaMap:m,transparent:!0,opacity:.5,aoMap:u,aoMapIntensity:.5,wireframe:!1,side:c});d.setAttribute("uv2",new v(d.attributes.uv.array,2));const p=new T(d,e);s.add(p);const o=new z;o.add(e,"alphaMap",{fibers:m,none:null}).name("透明贴图").onChange(t=>{e.needsUpdate=!0});o.add(e,"transparent").name("是否透明").onChange(()=>console.log(`当前物体是否显示：${p.visible}`));o.add(e,"opacity").min(0).max(1).step(.01).name("设置透明度");o.add(e,"aoMap",{fibers:u,none:null}).name("环境遮挡贴图").onChange(t=>{e.needsUpdate=!0});o.add(e,"aoMapIntensity").min(0).max(1).step(.01).name("环境遮挡强度");o.add(e,"side",{"THREE.FrontSide":C,"THREE.BackSide":y,"THREE.DoubleSide":c}).name("渲染面").onChange(t=>{console.log("value",t),e.needsUpdate=!0});o.add(e,"wireframe").name("是否线框");const h=new A(16777215);h.position.set(4,2,3);s.add(h);const G=new H(4473924);s.add(G);const i=new P(75,n.width/n.height,.1,1e3);i.position.z=5;s.add(i);const a=new B;a.setSize(n.width,n.height);a.setClearColor(12178431,1);document.body.appendChild(a.domElement);const w=new R(i,a.domElement);w.enableDamping=!0;g();window.addEventListener("resize",()=>{n.width=window.innerWidth,n.height=window.innerHeight,i.aspect=n.width/n.height,i.updateProjectionMatrix(),a.setSize(n.width,n.height),a.setPixelRatio(Math.min(window.devicePixelRatio,2))});window.addEventListener("dblclick",()=>{document.fullscreenElement?document.exitFullscreen():a.domElement.requestFullscreen()});function g(){w.update(),a.render(s,i),requestAnimationFrame(g)}
